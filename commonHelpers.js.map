{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/service.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'live_P6eHC8x9yyGVa6CysCPhrxwT8EKHp1a9orNVwSceBe3F1s3xTVSIChOaGbnrGJfj';\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\nconst BREEDS_PATH = 'breeds';\nconst CAT_INFO_PATH = 'images/search';\n\nexport async function fetchCatBreeds() {\n  const response = await axios.get(`${BASE_URL}${BREEDS_PATH}`, {\n    headers: { 'x-api-key': `${API_KEY}` },\n  });\n  return response.data;\n}\n\nexport async function fetchCatById(id) {\n  const response = await axios.get(`${BASE_URL}${CAT_INFO_PATH}?`, {\n    params: {\n      breed_ids: id,\n    },\n    headers: { 'x-api-key': `${API_KEY}` },\n  });\n  return response.data;\n}\n","const elements = {\n  loader: document.querySelector('.loader'),\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nexport function showLoader() {\n  elements.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  elements.loader.classList.add('hidden');\n}\n\nexport function showSelect() {\n  elements.select.classList.remove('hidden');\n}\n\nexport function hideSelect() {\n  elements.select.classList.add('hidden');\n}\n\nexport function showCatInfo() {\n  elements.catInfo.classList.remove('hidden');\n}\n\nexport function hideCatInfo() {\n  elements.catInfo.classList.add('hidden');\n}\n\nexport function updateContent(element, newContent) {\n  element.innerHTML = newContent;\n}\n","import { fetchCatBreeds, fetchCatById } from './cat-api';\nimport { updateContent } from './service';\nimport {\n  showLoader,\n  hideLoader,\n  showSelect,\n  showCatInfo,\n  hideCatInfo,\n} from './service';\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elements = {\n  loader: document.querySelector('.loader'),\n  breedSelect: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nfunction getCatBreeds() {\n  showLoader();\n  try {\n    fetchCatBreeds().then(data => {\n      elements.breedSelect.insertAdjacentHTML('beforeend', addOptins(data));\n    });\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: `${error.message}`,\n      color: 'red',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    showSelect();\n  }\n}\n\ngetCatBreeds();\n\nelements.breedSelect.addEventListener('change', handleSelect);\n\nasync function handleSelect(evt) {\n  elements.catInfo.innerHTML = '';\n  showLoader();\n  hideCatInfo();\n  try {\n    const data = await fetchCatById(evt.target.value);\n    if (data.length === 0) {\n      updateContent(\n        elements.catInfo,\n        '<h1>Opps something wrong, try again!</h1>'\n      );\n      return;\n    }\n    updateContent(elements.catInfo, createMarkUpCatInfo(data));\n  } catch (error) {\n    iziToast.show({\n      title: 'Error',\n      message: `${error.message}`,\n      color: 'red',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    showCatInfo();\n  }\n}\n\nfunction addOptins(arr) {\n  return arr\n    .map(item => {\n      return `<option value=\"${item.id}\">${item.name}</option>`;\n    })\n    .join('');\n}\n\nfunction createMarkUpCatInfo(arr) {\n  return arr\n    .map(\n      item => `\n    <img src=\"${item.url}\" alt=\"${item.breeds[0].name}\" width=\"300\" />\n    <h2>${item.breeds[0].name}</h2>\n    <p>${item.breeds[0].description}</p>\n    <h3>Temperament:<span>${item.breeds[0].temperament}</span></h3>    \n  `\n    )\n    .join('');\n}\n"],"names":["API_KEY","BASE_URL","BREEDS_PATH","CAT_INFO_PATH","fetchCatBreeds","axios","fetchCatById","id","elements","showLoader","hideLoader","showSelect","showCatInfo","hideCatInfo","updateContent","element","newContent","getCatBreeds","data","addOptins","error","iziToast","handleSelect","evt","createMarkUpCatInfo","arr","item"],"mappings":"6vBAEA,MAAMA,EACJ,wEACIC,EAAW,gCACXC,EAAc,SACdC,EAAgB,gBAEf,eAAeC,GAAiB,CAIrC,OAHiB,MAAMC,EAAM,IAAI,GAAGJ,IAAWC,IAAe,CAC5D,QAAS,CAAE,YAAa,GAAGF,GAAW,CAC1C,CAAG,GACe,IAClB,CAEO,eAAeM,EAAaC,EAAI,CAOrC,OANiB,MAAMF,EAAM,IAAI,GAAGJ,IAAWE,KAAkB,CAC/D,OAAQ,CACN,UAAWI,CACZ,EACD,QAAS,CAAE,YAAa,GAAGP,GAAW,CAC1C,CAAG,GACe,IAClB,CCvBA,MAAMQ,EAAW,CACf,OAAQ,SAAS,cAAc,SAAS,EACxC,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEO,SAASC,GAAa,CAC3BD,EAAS,OAAO,UAAU,OAAO,QAAQ,CAC3C,CAEO,SAASE,GAAa,CAC3BF,EAAS,OAAO,UAAU,IAAI,QAAQ,CACxC,CAEO,SAASG,GAAa,CAC3BH,EAAS,OAAO,UAAU,OAAO,QAAQ,CAC3C,CAMO,SAASI,GAAc,CAC5BJ,EAAS,QAAQ,UAAU,OAAO,QAAQ,CAC5C,CAEO,SAASK,GAAc,CAC5BL,EAAS,QAAQ,UAAU,IAAI,QAAQ,CACzC,CAEO,SAASM,EAAcC,EAASC,EAAY,CACjDD,EAAQ,UAAYC,CACtB,CCnBA,MAAMR,EAAW,CACf,OAAQ,SAAS,cAAc,SAAS,EACxC,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEA,SAASS,GAAe,CACtBR,IACA,GAAI,CACFL,EAAgB,EAAC,KAAKc,GAAQ,CAC5BV,EAAS,YAAY,mBAAmB,YAAaW,EAAUD,CAAI,CAAC,CAC1E,CAAK,CACF,OAAQE,EAAP,CACAC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,EAAM,UAClB,MAAO,MACP,SAAU,UAChB,CAAK,CACL,QAAY,CACRV,IACAC,GACD,CACH,CAEAM,IAEAT,EAAS,YAAY,iBAAiB,SAAUc,CAAY,EAE5D,eAAeA,EAAaC,EAAK,CAC/Bf,EAAS,QAAQ,UAAY,GAC7BC,IACAI,IACA,GAAI,CACF,MAAMK,EAAO,MAAMZ,EAAaiB,EAAI,OAAO,KAAK,EAChD,GAAIL,EAAK,SAAW,EAAG,CACrBJ,EACEN,EAAS,QACT,2CACR,EACM,MACD,CACDM,EAAcN,EAAS,QAASgB,EAAoBN,CAAI,CAAC,CAC1D,OAAQE,EAAP,CACAC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,EAAM,UAClB,MAAO,MACP,SAAU,UAChB,CAAK,CACL,QAAY,CACRV,IACAE,GACD,CACH,CAEA,SAASO,EAAUM,EAAK,CACtB,OAAOA,EACJ,IAAIC,GACI,kBAAkBA,EAAK,OAAOA,EAAK,eAC3C,EACA,KAAK,EAAE,CACZ,CAEA,SAASF,EAAoBC,EAAK,CAChC,OAAOA,EACJ,IACCC,GAAQ;AAAA,gBACEA,EAAK,aAAaA,EAAK,OAAO,GAAG;AAAA,UACvCA,EAAK,OAAO,GAAG;AAAA,SAChBA,EAAK,OAAO,GAAG;AAAA,4BACIA,EAAK,OAAO,GAAG;AAAA,GAEtC,EACA,KAAK,EAAE,CACZ"}